# Лабораторная работа № 8
# Жадные алгоритмы

**Дата:** 23.09.2025
**Семестр:** 3 курс 1 полугодие - 5 семестр
**Группа:** ПИЖ-б-о-23-2-1
**Дисциплина:** Анализ сложности алгоритмов
**Студент:** Чекалин Егор Юрьевич

## Характеристики ПК для тестирования
Модель устройства: ASUS TUF Gaming A15
CPU: AMD Ryzen 7 7735HS 3.2 GHz
GPU: Nvidia GeForce RTX 4060 Mobile
RAM: 16 GB
SSD: 100 GB

## Цель работы
Изучить метод проектирования алгоритмов, известный как "жадный алгоритм". Освоить
принцип принятия локально оптимальных решений на каждом шаге и понять условия, при которых этот
подход приводит к глобально оптимальному решению. Получить практические навыки реализации
жадных алгоритмов для решения классических задач, анализа их корректности и оценки
эффективности.

## Практическая часть

### Выполненные задачи
- [x] Задача 1: Реализованы классические жадные алгоритмы для различных задач (выбор интервалов, непрерывный рюкзак, выдача монет, Хаффман, MST по алгоритму Прима).  
- [x] Задача 2: Проведен анализ корректности жадных алгоритмов, объяснено, для каких задач они дают оптимальное решение, а для каких — нет.  
- [x] Задача 3: Сравнен жадный подход с точными методами (например, 0-1 рюкзак) для небольших входных данных, проведён замер времени работы алгоритмов.  
- [x] Задача 4: Решены практические задачи с применением жадного подхода (отбор интервалов, рюкзак, выдача монет, Хаффман, MST).

---

## Результаты выполнения

### Пример работы программы
```bash
=== ДЕМОНСТРАЦИЯ: ОТБОР ЗАНЯТИЙ ===
Список занятий:
  Алгебра: 8:00–9:00
  Физ-лаборатория: 8:00–10:00
  Геометрия: 9:00–11:00
  Биохимия: 10:00–12:00
  Программирование: 11:00–13:00
  Литература: 12:00–14:00
Можно посетить:
  Алгебра: 8:00–9:00
  Геометрия: 9:00–11:00
  Программирование: 11:00–13:00
Вместо 6 занятий — посетимо 3

=== ДЕМОНСТРАЦИЯ: НЕПРЕРЫВНЫЙ РЮКЗАК ===
Список провианта:
  Колбаса: value=320, weight=3, unit=106.7
  Сырок: value=210, weight=2, unit=105.0
  Булка: value=160, weight=1, unit=160.0
  Консервы: value=390, weight=5, unit=78.0
Вместимость: 6 кг
Максимальная ценность: 690.00
Выбрано:
  Булка: 1.0 кг за 160.0 руб (100.0%)
  Колбаса: 3.0 кг за 320.0 руб (100.0%)
  Сырок: 2.0 кг за 210.0 руб (100.0%)
  Консервы: 0.0 кг за 0.0 руб (0.0%)

=== ДЕМОНСТРАЦИЯ: ХАФФМАН ===
Исход: 'zzzzzzzzzyyyyyxxwww'
Частоты:
  'w': 3 раз
  'x': 2 раз
  'y': 5 раз
  'z': 9 раз
Коды:
  'w': 101
  'x': 100
  'y': 11
  'z': 0
Закодировано: 0000000001111111111100100101101101
Байт/бит исходно (ASCII): 152
Длина кодированного: 34
Экономия: 118 бит

=== ДЕМОНСТРАЦИЯ: ВЫДАЧА МОНЕТ ===
Система: US-style -> [25, 10, 5, 1]
  68 центов: {25: 2, 10: 1, 5: 1, 1: 3} (итого монет: 7)
  95 центов: {25: 3, 10: 2} (итого монет: 5)
  43 центов: {25: 1, 10: 1, 5: 1, 1: 3} (итого монет: 6)

=== ДЕМОНСТРАЦИЯ: PRIM ===
Города и дороги:
  Москва -- Питер: 700 км
  Москва -- Казань: 820 км
  Москва -- Н.Новгород: 410 км
  Питер -- Казань: 1190 км
  Питер -- Екат: 1990 км
  Казань -- Н.Новгород: 390 км
  Казань -- Екат: 910 км
  Н.Новгород -- Екат: 1210 км
Минимальная сеть:
  Москва -- Н.Новгород: 410 км
  Н.Новгород -- Казань: 390 км
  Москва -- Питер: 700 км
  Казань -- Екат: 910 км
Общая длина: 2410 км

=== ДЕМОНСТРАЦИЯ: СРАВНЕНИЕ РЮКЗАКОВ ===
Пример, где жадный не оптимален:
  Золото: value=31, weight=10, unit=3.1
  Серебро: value=21, weight=10, unit=2.1
  Бронза: value=21, weight=10, unit=2.1
Сравнение подходов для задачи рюкзака:
Вместимость: 20
Жадный (непрерывный): 52.00
Выбранные (в %):
  Золото: 100.0%
  Серебро: 100.0%
  Бронза: 0.0%
Точный (0-1): 52
Выбранные:
  Золото
  Серебро
Разница: 0.00
```

### Тестирование

```bash
......
----------------------------------------------------------------------
Ran 6 tests in 0.001s

OK
```

---

## Анализ и замеры

### Отбор интервалов

| Интервал | Время   |
| -------- | ------- |
| A        | [1, 3]  |
| B        | [2, 5]  |
| C        | [4, 7]  |
| D        | [6, 9]  |
| E        | [8, 10] |
| F        | [1, 2]  |

Выбранные интервалы (жадно):
F: [1, 2], B: [2, 5], D: [6, 9]
Всего выбрано: 3

Замеры времени:

| Размер | Время (мс) |
| ------ | ---------- |
| 10     | 0.012      |
| 50     | 0.031      |
| 100    | 0.045      |
| 500    | 0.244      |
| 1000   | 0.500      |

### Рюкзак

Сравнение подходов:

| Предмет | Value | Weight | Unit | Жадный (%) | 0-1 |
| ------- | ----- | ------ | ---- | ---------- | --- |
| Item1   | 60    | 10     | 6.0  | 100.0      | ✓   |
| Item2   | 100   | 20     | 5.0  | 0.0        |     |
| Item3   | 120   | 30     | 4.0  | 0.0        |     |

Максимальная ценность: жадный=60, 0-1=60
Разница: 0.00

Пример нестандартного случая:

| Предмет | Value | Weight | Unit | Жадный (%) | 0-1 |
| ------- | ----- | ------ | ---- | ---------- | --- |
| X       | 60    | 6      | 10.0 | 100.0      |     |
| Y       | 50    | 5      | 10.0 | 80.0       | ✓   |
| Z       | 50    | 5      | 10.0 | 0.0        | ✓   |

Замеры времени:

| Размер | Непрерывный (мс) | 0-1 (мс) |
| ------ | ---------------- | -------- |
| 10     | 0.013            | 2.577    |
| 20     | 0.020            | 4489.207 |
| 50     | 0.059            | N/A      |
| 100    | 0.137            | N/A      |

### Хаффман

Исход: 'this is an example for huffman encoding'
Длина: 39 символов, ASCII: 312 бит
Закодировано: 157 бит, коэффициент сжатия: 50.32%

### PRIM (MST)

Граф:
A -- B (1), A -- C (3), B -- C (2), B -- D (4), C -- D (5)
MST:
A -- B (1), B -- C (2), B -- D (4), общий вес: 7

![График анализа](report/analysis.png)

---

## Выводы

1. Жадные алгоритмы эффективны для задач, где локально оптимальный выбор приводит к глобальному оптимуму (например, выбор интервальных заявок или непрерывный рюкзак).
2. Жадный подход не всегда гарантирует оптимальное решение, особенно для дискретных задач (0-1 рюкзак) или нестандартных систем монет.
3. Использование жадных методов позволяет значительно экономить время вычислений по сравнению с полным перебором, особенно на больших входных данных.

---

## Ответы на контрольные вопросы

**1. В чем заключается основная идея жадных алгоритмов?**
Основная идея заключается в том, чтобы на каждом шаге делать локально оптимальный выбор с надеждой, что последовательность таких выборов даст глобально оптимальное решение.

**2. Для задачи о выборе заявок (Interval Scheduling) жадный алгоритм, выбирающий интервалы с наименьшим временем окончания, является оптимальным. Объясните, почему эта жадная стратегия работает.**
Такой выбор гарантирует, что остаётся максимум времени для последующих интервалов, что обеспечивает наибольшее число несоприкасающихся интервалов.

**3. Приведите пример задачи, для которой жадный алгоритм дает оптимальное решение, и задачи, для которой он не дает.**
Оптимальный пример: непрерывный рюкзак. Неоптимальный пример: 0-1 рюкзак с предметами разной ценности и веса.

**4. В чем разница между непрерывной (дробной) и дискретной (0-1) задачами о рюкзаке? Для какой из них жадный алгоритм оптимален?**
В дробной задаче разрешено брать часть предмета, в 0-1 — только целый предмет. Жадный алгоритм оптимален для дробного рюкзака.

**5. Опишите жадный алгоритм построения кода Хаффмана. В чем его оптимальность?**
Алгоритм строит дерево, объединяя два наименее частотных символа на каждом шаге, что минимизирует суммарную длину кодов. Оптимальность гарантирована минимизацией взвешенной длины кода.

---

## Инструкция по запуску

1. Перейти в папку `src`:

```bash
cd src
```

2. Запуск программы:

```bash
python3 main.py
```

3. Запуск тестов:

```bash
python3 -m modules.tests
```

4. Запуск анализа времени:

```bash
python3 -m modules.analysis
```

---

## Структура проекта

```
.
├── report
│   └── analysis.png
├── report.md
└── src
    ├── main.py
    └── modules
        ├── analysis.py
        ├── greedy_algorithms.py
        ├── __init__.py
        ├── __pycache__
        │   ├── analysis.cpython-313.pyc
        │   ├── greedy_algorithms.cpython-313.pyc
        │   ├── __init__.cpython-313.pyc
        │   └── tests.cpython-313.pyc
        └── tests.py
```
